# HTTPS

HTTP + Secure

인터넷에서 데이터를 주고받을 수 있는 통신 프로토콜 + 보안기능

HTTP 프로토콜 내용 암호화

기존 HTTP는 중간에 요청을 누군가 들여다볼 수 있어 정보 노출의 위험이 있었지만

HTTPS는 요청의 내용을 암호화 하여 키 없이는 볼 수 없게 만들었다 <br/><br/>

### HTTPS 특징

- 인증서 (Certificate)
    
    데이터 제공자 신원 보장
    
    도메인 종속
    
    데이터를 제공한 서버가 정말로 데이터를 보내준 서버인지 인증, 확인하는 것
    
    인증서의 내용에 서버에 도메인 관련 정보가 들어있어서 데이터 제공자의 인증을 용이하게 한다
    
    요청을 받으면 서버는 인증서 + 응답 전송
    
    응답을 받은 클라이언트는 인증서+도메인 / 응답+도메인 비교해서 맞는 서버인지 확인
    
    비교 내용이 다르면 ( 제3자 공격 )
    
    클라이언트에서 확인 가능
    
- CA (Certificate Authority)
    
    공인 인증서 발급 기관
    
    브라우저마다 신뢰하는 CA를 가지고 있다 
    
- 비대칭 키 암호화
    
    한 쌍의 키로 암호화, 복호화 가능
    
    키 1로 암호화
    
    키 2로 복호화
    
    HTTPS 프로토콜을 이용하는 서버는 한 쌍의 키 중 
    
    하나는 비밀 
    
    하나는 클라이언트 공개
    
    다만 모든 통신에 대해서 공개키 방식을 사용하는 것은 아님
    
    많은 클라이언트를 대상으로 매번 사용하기에는 연산이 복잡한 알고리즘이다
    
    통신의 초창기에서만 비밀키를 사용하기 위한 키를 만들어내기 위해서 사용한다 
    
<br/><br/>

### HTTPS 통신 과정

- Hand Shake
    
    서로를 확인한다
    
    클라이언트 : 요청
    
    서버 : 응답, 공개키, 인증서 정보 전달
    
- 비밀 키 생성
    
    클라이언트 : 키 제작용 랜덤 스트링 전송 (임의의 정보를 암호화)
    
    서버 : 키 제작용 랜덤 스트링 전송 (서버도 매한가지)
    
    클라이언트, 서버 각각 세션 키 생성 (비밀 키)
    
- 상호 키 검증
    
    클라이언트 : 세션 키로 암호화 된 메세지 전달 (테스트용 데이터 암호화로 전달)
    
    서버 : 세션 키로 암호화 된 메세지 전달 (데이터 복호화 하고 다시 암호화해서 전달)
    
    클라이언트가 전달받은 것을 다시 복호화 한다면 비밀 키 만들기 성공
    
    HTTPS 연결 성립
    
    이후에 비밀 키를 바탕으로 정말로 데이터 송수신에 필요한 동일키 암호화, 복호화 진행
    
<br/><br/>

내가 접속한 사이트가 보안된 웹사이트인지 확인하려면?

자물쇠 아이콘을 눌러보세요

대부분의 웹사이트가 HTTPS 를 사용한다

HTTPS 는 어떻게 HTTP 보다 안전한(Secure) 통신을 보장할 수 있을까요?

HTTPS는 **H**yper **T**ext **T**ransfer **P**rotocol **S**ecure Socket layer

HTTP over SSL(TLS) / HTTP over Secure 라고 부르기도 한다

HTTP 요청을 SSL, TLS 라는 알고리즘을 이용해서

HTTP 통신 과정에서 데이터를 암호화해서 전송한다  <br/> <br/>

### HTTPS 목적

- 암호화
    
    제3자가 서버와 클라이언트가 주고받는 정보를 탈취할 수 없도록 한다
    
    데이터를 암호화해서 주고 받기 때문이다 !!! (가져가도 뭐 어쩔건데)
    
    HTTPS 에서는 데이터를 암호화해서 주고 받기 위해서 비대칭키, 대칭키를 혼용해서  사용한다
    
    대칭키
    
    양쪽이 공통의 비밀 키를 공유해서 데이터를 암호화, 복호화 하는 것
    
    비대칭키
    
    공개키, 비밀키를 가지고 있다
    
    공개키로 데이터 암호화
    
    비밀키로 데이터 복호화
    
    그럼 키가 총 3개라는 거니? 4개라는 거니? 개열받네
    
    대칭키를 주고 받을 때 비대칭키 방식으로 주고 받는데
    
    그러면 …  ㅎ ㅏ… 이건 위에 통신방식으로 이해하자 풀어서 못쓰겠음
    
    결론
    
    ### ***HTTPS 는 대칭키와 비대칭키 방식을 이용해서 데이터를 암호화한다***
    
- 인증서
    
    브라우저가 서버의 응답과 함께 전달된 인증서를 확인할 수 있다
    
    응답 + 인증서
    
    인증서를 보증할 수 있는 제3자 === CA / Certificate Authority
    
    왜냐면 CA가 인증서를 발급해줌
    
    서버 >>> 클라이언트
    
    인증서 전달
    
    클라이언트
    
    CA리스트를 통해서 브라우저에서 인증된 CA 발급 인증서인지 확인
    
    X    인증된 CA 인증서가 아니면 경고창 발생
    
    O   인증서 확인이 되면 CA 공개키로 서버 인증서 복호화
    
    CA를 통해 서버 인증, 데이터 암호화 하는 프로토콜을 TLS, SSL 이라고 부른다
    
    여기서 잠 깐 ~
    
    - TLS, SSL 그냥 넘어가기 찝찝해요 뭔지 잠깐 알아봐요 ~
        
        
        SSL은 위에도 잠깐 나와있지만
        
        Secure Socket layer / 보안 소켓 계층
        
        디지털 인증서로 불린다
        
        TLS
        
        Transport Layer Security / 전송 계층 보안
        
        SSL의 향상된 버전
        
        더욱 안전하다고 볼 수 있다
        
        도움된 자료들
        
        [SSL, TLS, HTTPS는 무엇인가요?](https://www.digicert.com/kr/what-is-ssl-tls-and-https)
        
        [SSL vs. TLS - 차이점은 무엇인가?](https://smartits.tistory.com/209)
        
        [TLS vs SSL: What's the Difference? Which One Should You Use?](https://kinsta.com/knowledgebase/tls-vs-ssl/)